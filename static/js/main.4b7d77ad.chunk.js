(this["webpackJsonpimage-viewer"]=this["webpackJsonpimage-viewer"]||[]).push([[0],{165:function(e,t,a){"use strict";a.r(t);var n=a(229),i=a(245),r=a(0),c=a.n(r),s=a(25),o=a.n(s),l=a(244),m=a(242),g=a(239),d=a(232),j=a(243),h=a(86),u=a.n(h),b=a(107),x=a(14),p=a(230),O=a(108),f=a.n(O),I=a(41),v={server:{host:"https://jsonplaceholder.typicode.com",api:{getAllImages:{uri:"/photos"}},errors:{}},references:{}},y=a(16),C=a(17),S=a(18),w=new(function(){function e(){Object(y.a)(this,e),this.images=[],this.filteredImages=[],this.imagesToShow=10,this.imagesDisplayStyle=localStorage.getItem("view")||"grid",Object(S.d)(this)}return Object(C.a)(e,[{key:"getDefaultImages",get:function(){return this.images}},{key:"getImages",get:function(){return this.filteredImages}},{key:"getImagesToShow",get:function(){return this.imagesToShow}},{key:"getImagesDisplayStyle",get:function(){return this.imagesDisplayStyle}},{key:"setImages",value:function(e){this.images=e,this.filteredImages=e}},{key:"setFilteredImages",value:function(e){this.filteredImages=e}},{key:"deleteImage",value:function(e){this.filteredImages=this.filteredImages.filter((function(t){return t.id!==e.id}))}},{key:"setImagesToShow",value:function(e){this.imagesToShow=e}},{key:"setImagesDisplayStyle",value:function(e){this.imagesDisplayStyle=e}}]),e}()),k=a(246),T=a(250),B=a(251),D=a(248),N=a(249),P=a(247),A=Object(p.a)((function(){return{text:{fontSize:"0.9rem"}}})),W=a(2),V=function(e){var t=e.title,a=e.text,n=e.open,i=e.onOk,r=e.handleClose,c=e.maxWidth,s=A();return Object(W.jsxs)(k.a,{maxWidth:c,open:Boolean(n),onClose:r,fullWidth:!0,children:[Object(W.jsx)(P.a,{children:t}),Object(W.jsx)(D.a,{children:Object(W.jsx)(N.a,{className:s.text,children:a})}),Object(W.jsxs)(T.a,{children:[Object(W.jsx)(B.a,{onClick:r,color:"primary",children:"Cancel"}),Object(W.jsx)(B.a,{onClick:i,color:"primary",children:"Confirm"})]})]})},z=a(252),F=a(255),M=a(254),R=a(253),E=a(91),U=a.n(E),L=a(90),J=a.n(L),H=a(34),q=a.n(H),G=a(48),K=a(60),Q=a.n(K),X=Object(p.a)((function(e){return{btn:{width:50,height:50,color:"white !important"},deleteBtn:{backgroundColor:"".concat(G.a[500]," !important"),"&:hover":{backgroundColor:"".concat(Q()(G.a[400]).lighten(5).toString()," !important")}},previewBtn:{backgroundColor:"".concat(e.palette.primary.main," !important"),"&:hover":{backgroundColor:"".concat(Q()(e.palette.primary.main).lighten(5).toString()," !important")}}}}));var Y=a(223),Z=a(73),$=a.n(Z),_=Object(p.a)((function(){return{cancelButton:{minWidth:"30px !important",width:30,color:"".concat(G.a[500]," !important"),backgroundColor:"".concat(G.a[50]," !important"),"&:hover":{backgroundColor:"".concat(G.a[100]," !important")}}}})),ee=Object(p.a)((function(){return{closeButton:{position:"absolute !important",top:"3%",right:"3%"}}})),te=function(e){var t=e.image,a=e.open,n=e.handleClose,i=_(),r=ee();return Object(W.jsxs)(k.a,{open:Boolean(a),TransitionComponent:Y.a,onClose:n,children:[Object(W.jsx)(B.a,{size:"small",className:q()(i.cancelButton,r.closeButton),onClick:n,children:Object(W.jsx)($.a,{})}),Object(W.jsx)("img",{src:t.url,alt:t.title})]})},ae=Object(I.a)((function(e){var t=e.image,a=X(),n=function(){var e=c.a.useState(null),t=Object(x.a)(e,2),a=t[0],n=t[1],i=c.a.useState(null),r=Object(x.a)(i,2),s=r[0],o=r[1];return{handleDeleteImage:function(e){n(e)},onConfirmPhotoDelete:function(){a&&(w.deleteImage(a),n(null))},setImageToDelete:n,handleSelectImage:function(e){o(e)},handleClosePreview:function(){o(null)},imageToShow:s,imageToDelete:a}}(),i=n.handleDeleteImage,r=n.onConfirmPhotoDelete,s=n.setImageToDelete,l=n.handleSelectImage,m=n.handleClosePreview,d=n.imageToShow,h=n.imageToDelete;return Object(W.jsxs)(W.Fragment,{children:["grid"===w.getImagesDisplayStyle?Object(W.jsx)(g.a,{item:!0,xs:4,children:Object(W.jsxs)(z.a,{children:[Object(W.jsx)(R.a,{title:t.title.slice(0,20),subheader:"Album ID: ".concat(t.albumId)}),Object(W.jsx)(M.a,{component:"img",height:"100%",image:t.thumbnailUrl,alt:t.title}),Object(W.jsxs)(F.a,{children:[Object(W.jsx)(B.a,{size:"small",className:q()(a.btn,a.deleteBtn),onClick:function(){return i(t)},children:Object(W.jsx)(J.a,{})}),Object(W.jsx)(B.a,{size:"small",className:q()(a.btn,a.previewBtn),onClick:function(){return l(t)},children:Object(W.jsx)(U.a,{})})]})]})},t.id):Object(W.jsxs)(g.a,{container:!0,item:!0,spacing:5,xs:12,alignItems:"center",justifyContent:"space-between",children:[Object(W.jsx)(g.a,{item:!0,xs:4,children:Object(W.jsx)("img",{src:t.thumbnailUrl,alt:t.title,height:"50%",width:"100%"})}),Object(W.jsx)(g.a,{item:!0,xs:3,children:Object(W.jsx)(j.a,{variant:"h5",align:"center",children:t.title.slice(0,20)})}),Object(W.jsx)(g.a,{item:!0,xs:3,children:Object(W.jsx)(j.a,{variant:"body1",align:"center",children:"Album ID: ".concat(t.albumId)})}),Object(W.jsxs)(g.a,{container:!0,item:!0,spacing:2,xs:2,children:[Object(W.jsx)(g.a,{item:!0,children:Object(W.jsx)(B.a,{size:"small",className:q()(a.btn,a.deleteBtn),onClick:function(){return i(t)},children:Object(W.jsx)(J.a,{})})}),Object(W.jsx)(g.a,{item:!0,children:Object(W.jsx)(B.a,{size:"small",className:q()(a.btn,a.previewBtn),onClick:function(){return l(t)},children:Object(W.jsx)(U.a,{})})})]})]},t.id),(null===h||void 0===h?void 0:h.id)===t.id&&o.a.createPortal(Object(W.jsx)(V,{title:"Confirm photo deletion",text:"Are you sure that you want to delete this photo? This action is permanent!",open:h,onOk:r,handleClose:function(){return s(null)},maxWidth:"sm"}),document.body),(null===d||void 0===d?void 0:d.id)===t.id&&o.a.createPortal(Object(W.jsx)(te,{image:d,open:d,handleClose:m}),document.body)]})})),ne=a(257),ie=a(4),re=a(256),ce=a(231),se=a(235),oe=a(238),le=a(237),me=a(114),ge=a.n(me),de=a(115),je=a.n(de),he=a(111),ue=a.n(he),be=a(112),xe=a.n(be),pe=a(113),Oe=a.n(pe),fe=a(117),Ie=a(110),ve=Object(p.a)((function(e){return{selectItem:{display:"flex !important",alignItems:"center"},selectItemIcon:{fontSize:18},viewBtn:{width:50,height:50},activeView:{backgroundColor:"".concat(Q()(e.palette.primary.main).lighten(10).toString()," !important"),border:0,borderRadius:3,color:"white !important",padding:"0 30px"}}}));var ye=Object(I.a)((function(e){var t=e.setPage,a=_(),n=ve(),i=function(e){var t=e.setPage,a=c.a.useState(""),n=Object(x.a)(a,2),i=n[0],r=n[1],s=c.a.useState(""),o=Object(x.a)(s,2),l=o[0],m=o[1];return{sort:i,searchValue:l,hadleChangeView:function(e){w.setImagesDisplayStyle(e.currentTarget.name),localStorage.setItem("view",e.currentTarget.name)},handleChangeSearchValue:function(e){i&&r(""),m(e.target.value)},handleChangeSort:function(e){var t=e.target.value;r(t)},handleClearSort:function(){r("")},handleChangeItemsOnPage:function(e){w.setImagesToShow(Number(e.target.value)),t(1)}}}({setPage:t}),r=i.hadleChangeView,s=i.handleChangeItemsOnPage,o=i.handleChangeSearchValue,l=i.handleChangeSort,m=i.handleClearSort,d=i.searchValue,j=i.sort,h=new fe.a(w.getImages,{keys:["title"],threshold:.2,distance:30});return c.a.useEffect((function(){if(d){var e=h.search(d);w.setFilteredImages(e.map((function(e){return e.item})))}else w.setFilteredImages(w.getDefaultImages)}),[d]),c.a.useEffect((function(){j?w.setFilteredImages(Object(Ie.orderBy)(w.getImages,["albumId"],"asc"===j?"asc":"desc")):w.setImages(w.getDefaultImages),t(1)}),[j]),Object(W.jsxs)(g.a,{container:!0,item:!0,spacing:5,xs:12,alignItems:"center",justifyContent:"space-between",marginTop:0,children:[Object(W.jsx)(g.a,{item:!0,xs:4,children:Object(W.jsx)(le.a,{label:"Search",variant:"outlined",value:d,onChange:o,InputProps:{startAdornment:Object(W.jsx)(ue.a,{})},fullWidth:!0})}),Object(W.jsxs)(g.a,{container:!0,item:!0,spacing:2,xs:3,alignItems:"center",children:[Object(W.jsx)(g.a,{item:!0,xs:j?11:12,children:Object(W.jsxs)(re.a,{fullWidth:!0,children:[Object(W.jsx)(oe.a,{children:"Sort"}),Object(W.jsxs)(ce.a,{value:j,label:"Sort",onChange:l,classes:{select:n.selectItem},children:[Object(W.jsxs)(se.a,{value:"asc",children:["Album Number ",Object(W.jsx)(xe.a,{className:n.selectItemIcon})]}),Object(W.jsxs)(se.a,{value:"desc",children:["Album Number ",Object(W.jsx)(Oe.a,{className:n.selectItemIcon})]})]})]})}),j&&Object(W.jsx)(g.a,{item:!0,xs:1,children:Object(W.jsx)(B.a,{size:"small",className:a.cancelButton,onClick:m,children:Object(W.jsx)($.a,{})})})]}),Object(W.jsx)(g.a,{item:!0,xs:3,children:Object(W.jsxs)(re.a,{fullWidth:!0,children:[Object(W.jsx)(oe.a,{children:"Items on page"}),Object(W.jsxs)(ce.a,{value:String(w.getImagesToShow),label:"Items on page",onChange:s,children:[Object(W.jsx)(se.a,{value:10,children:"Ten"}),Object(W.jsx)(se.a,{value:20,children:"Twenty"}),Object(W.jsx)(se.a,{value:30,children:"Thirty"})]})]})}),Object(W.jsx)(g.a,{item:!0,children:Object(W.jsx)(ne.a,{name:"grid",color:"primary",className:q()(n.viewBtn,Object(ie.a)({},n.activeView,"grid"===w.getImagesDisplayStyle)),onClick:r,children:Object(W.jsx)(ge.a,{})})}),Object(W.jsx)(g.a,{item:!0,children:Object(W.jsx)(ne.a,{name:"table",color:"primary",className:q()(n.viewBtn,Object(ie.a)({},n.activeView,"table"===w.getImagesDisplayStyle)),onClick:r,children:Object(W.jsx)(je.a,{})})})]})})),Ce=a(258),Se=Object(I.a)((function(e){var t=e.imagesLoading,a=e.page;return Object(W.jsxs)(g.a,{container:!0,item:!0,spacing:5,xs:12,justifyContent:"center",children:[t&&Object(W.jsx)(g.a,{item:!0,children:Object(W.jsx)(Ce.a,{})}),!t&&(w.getImages.length?Object(W.jsx)(g.a,{container:!0,item:!0,spacing:5,xs:12,children:w.getImages.slice(w.getImagesToShow*(a-1),a*w.getImagesToShow).map((function(e){return Object(W.jsx)(ae,{image:e})}))}):Object(W.jsx)(g.a,{item:!0,children:Object(W.jsx)(j.a,{variant:"body1",children:"No images were found"})}))]})})),we=Object(p.a)((function(e){return{toolbar:{padding:e.spacing(5),marginTop:e.spacing(5)},cardTitle:{textOverflow:"ellipsis"}}})),ke=Object(I.a)((function(){var e=we(),t=c.a.useRef(null),a=c.a.useState(!1),n=Object(x.a)(a,2),i=n[0],r=n[1],s=c.a.useState(1),o=Object(x.a)(s,2),h=o[0],p=o[1];return c.a.useEffect((function(){Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,f.a.get("".concat(v.server.host).concat(v.server.api.getAllImages.uri));case 4:t=e.sent,a=t.data,w.setImages(a);case 7:return e.prev=7,r(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})))()}),[]),Object(W.jsx)("div",{className:"App",children:Object(W.jsxs)(l.a,{children:[Object(W.jsx)(j.a,{variant:"h3",align:"center",children:"Image Viewer App"}),Object(W.jsx)(m.a,{elevation:5,className:e.toolbar,ref:t,children:Object(W.jsxs)(g.a,{container:!0,spacing:5,children:[Object(W.jsx)(ye,{setPage:p}),Object(W.jsx)(Se,{page:h,imagesLoading:i}),!i&&!!w.getImages.length&&Object(W.jsx)(g.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(W.jsx)(g.a,{item:!0,children:Object(W.jsx)(d.a,{count:Math.floor(w.getImages.length/w.imagesToShow),boundaryCount:2,page:h,onChange:function(e,a){p(a),t.current&&t.current.scrollIntoView({behavior:"smooth"})},color:"primary"})})})]})})]})})})),Te=a(116),Be=Object(Te.a)({spacing:4,typography:{fontFamily:["system-ui","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Ubuntu","Helvetica Neue","sans-serif"]},palette:{primary:{main:"rgb(29, 161, 242)",dark:"rgb(26, 145, 218)",contrastText:"#fff"},secondary:{main:"rgb(26, 145, 218)"},error:{main:G.a.A400},background:{default:"#fff"},text:{primary:"#14171a"}},overrides:{MuiButton:{root:{borderRadius:30,textTransform:"none",fontSize:16,height:40,fontWeight:700},textPrimary:{paddingLeft:20,paddingRight:20},outlinedPrimary:{borderColor:"rgb(29, 161, 243)"}},MuiFilledInput:{underline:{"&:after":{borderBottomWidth:"2px"},"&:before":{borderColor:"#000",borderBottomWidth:"2px"}},input:{backgroundColor:"rgb(245, 248, 250)"}},MuiDialog:{paper:{borderRadius:15}},MuiDialogActions:{root:{marginBottom:8}},MuiDialogTitle:{root:{borderBottom:"1px solid rgb(204, 214, 221)",marginBottom:10,padding:"10px 15px","& h2":{display:"flex",alignItems:"center",fontWeight:800},"& button":{padding:8,marginRight:20}}}}});o.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsxs)(i.a,{theme:Be,children:[Object(W.jsx)(n.a,{}),Object(W.jsx)(ke,{})]})}),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.4b7d77ad.chunk.js.map